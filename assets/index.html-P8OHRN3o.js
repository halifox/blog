import{_ as i,c as e,a,o as n}from"./app-82cUmJ1Q.js";const l={};function t(d,s){return n(),e("div",null,[...s[0]||(s[0]=[a(`<p>特别是那些以 C:\\Windows、Path 等形式自动注入的变量</p><h2 id="修改-wsl-全局配置" tabindex="-1"><a class="header-anchor" href="#修改-wsl-全局配置"><span>修改 WSL 全局配置</span></a></h2><p>编辑（或创建）/etc/wsl.conf 文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nano</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/wsl.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在文件中加入以下内容：</p><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-conf"><span class="line"><span>[interop]</span></span>
<span class="line"><span>appendWindowsPath = false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[interop]</span></span>
<span class="line"><span>enabled = false</span></span>
<span class="line"><span>appendWindowsPath = false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存后退出。 然后重启 WSL：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wsl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --shutdown</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>再重新打开 WSL 即可。 此设置会禁止 WSL 自动将 Windows 的 PATH 注入到 Linux 环境中。</p><h3 id="验证" tabindex="-1"><a class="header-anchor" href="#验证"><span>验证</span></a></h3><p>执行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $PATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>若不再出现 /mnt/c/Windows 等路径，则设置成功。</p>`,13)])])}const r=i(l,[["render",t]]),p=JSON.parse('{"path":"/blog/gc06pgcq/","title":"WSL2 禁用 Windows 的环境变量","lang":"zh-CN","frontmatter":{"title":"WSL2 禁用 Windows 的环境变量","createTime":"2025/10/02 00:00:00","permalink":"/blog/gc06pgcq/","tags":["wsl"]},"readingTime":{"minutes":0.46,"words":138},"git":{"createdTime":1762260792000,"updatedTime":1764920704000,"contributors":[{"name":"halifox","username":"halifox","email":"106858061+halifox@users.noreply.github.com","commits":4,"avatar":"https://avatars.githubusercontent.com/halifox?v=4","url":"https://github.com/halifox"}]},"filePathRelative":"blog/WSL2 禁用 Windows 的环境变量.md","headers":[],"categoryList":[]}');export{r as comp,p as data};
