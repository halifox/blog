import{_ as i,c as a,a as e,o as n}from"./app-82cUmJ1Q.js";const l={};function h(t,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<blockquote><p>相关文档: https://docs.jitpack.io/android/#create-your-release</p></blockquote><h1 id="添加maven-publish插件" tabindex="-1"><a class="header-anchor" href="#添加maven-publish插件"><span>添加maven-publish插件</span></a></h1><p>build.gradle.kts</p><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-kotlin"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">plugins</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {  </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;maven-publish&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">afterEvaluate</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    publishing</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        publications</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">            create</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">MavenPublication</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;maven&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) { </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//&quot;release&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(components[</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;release&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">])  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//如果是纯Java\\Kotlin项目则为&quot;java&quot; 例如ksp项目</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                groupId </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;com.github.jitpack&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                artifactId </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;android-example&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                version </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;1.0.1&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="发布-android-库" tabindex="-1"><a class="header-anchor" href="#发布-android-库"><span>发布 ANDROID 库</span></a></h1><p>要在 JitPack 上发布您的 Android 库，您只需要在 Git 存储库中有一个可用的构建文件。</p><p>Android SDK 在构建环境中可用，并且 ANDROID_HOME 变量在构建开始时已设置。默认情况下，构建使用 Java 8 运行，但可以使用 jitpack.yml 文件进行配置。</p><p>例如使用Java17</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># jitpack.yml</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">jdk</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> openjdk17</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置gradle" tabindex="-1"><a class="header-anchor" href="#配置gradle"><span>配置Gradle</span></a></h2><p>要在 JitPack 上进行构建，您需要配置<code>maven-publish</code>Gradle 插件用于发布您的库，如中所述<a href="https://developer.android.com/studio/build/maven-publish-plugin" target="_blank" rel="noopener noreferrer">Android 文档</a>。</p><h2 id="检查发布并从本地安装依赖" tabindex="-1"><a class="header-anchor" href="#检查发布并从本地安装依赖"><span>检查发布并从本地安装依赖</span></a></h2><p>检查您的库是否可以安装到 mavenLocal (<code>$HOME/.m2/repository</code>）：</p><blockquote><p>https://docs.gradle.org/current/kotlin-dsl/gradle/org.gradle.api.artifacts.dsl/-repository-handler/maven-local.html</p></blockquote><p>存储库的位置确定如下（按优先顺序）：</p><ol><li>系统属性“maven.repo.local”的值（如果已设置）；</li><li>元素的值该文件是否存在并且元素已设置；<code>~/.m2/settings.xml</code></li><li>元素的值of （其中是具有该名称的环境变量的值）如果该文件存在并且元素已设置；<code>$M2_HOME/conf/settings.xml\`\`$M2_HOME</code></li><li>路径。<code>~/.m2/repository</code></li></ol><div class="language-groovy line-numbers-mode" data-highlighter="shiki" data-ext="groovy" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-groovy"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">gradlew publish</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">gradlew publishToMavenLocal</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// or if you named your publication &quot;release&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">gradlew publishReleasePublicationToMavenLocal</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-groovy line-numbers-mode" data-highlighter="shiki" data-ext="groovy" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-groovy"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dependencyResolutionManagement {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    repositoriesMode</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">set</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">RepositoriesMode.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">FAIL_ON_PROJECT_REPOS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    repositories {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        google</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        mavenCentral</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">		mavenLocal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//从本地检索包</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-groovy line-numbers-mode" data-highlighter="shiki" data-ext="groovy" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-groovy"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dependencies {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    implementation</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">com.github.jitpack:android-example:1.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//从本地检索包</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建您的依赖版本" tabindex="-1"><a class="header-anchor" href="#创建您的依赖版本"><span>创建您的依赖版本</span></a></h2><p>如果上一步一切顺利，您的库就可以发布了！创建 GitHub 版本或添加 git 标签即可完成！</p><h2 id="从jitpack引入依赖" tabindex="-1"><a class="header-anchor" href="#从jitpack引入依赖"><span>从jitpack引入依赖</span></a></h2><p>您的库的用户需要将 jitpack.io 存储库添加到<strong>settings.gradle</strong>文件中：</p><div class="language-groovy line-numbers-mode" data-highlighter="shiki" data-ext="groovy" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-groovy"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dependencyResolutionManagement {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    repositoriesMode</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">set</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">RepositoriesMode.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">FAIL_ON_PROJECT_REPOS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    repositories {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        google</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        mavenCentral</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        maven { url </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://jitpack.io</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-groovy line-numbers-mode" data-highlighter="shiki" data-ext="groovy" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-groovy"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dependencies {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    implementation</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">com.github.jitpack:android-example:1.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：不要在下面添加 jitpack.io 存储库<code>buildscript</code></p><h2 id="添加示例应用程序" tabindex="-1"><a class="header-anchor" href="#添加示例应用程序"><span>添加示例应用程序</span></a></h2><p>如果您将示例应用程序添加到同一存储库，那么您的应用程序需要依赖于该库。要在 app/build.gradle 中执行此操作，请添加以下形式的依赖项：</p><div class="language-groovy line-numbers-mode" data-highlighter="shiki" data-ext="groovy" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-groovy"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dependencies {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    implementation project</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:library</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中“library”是您的库模块的名称。</p><h2 id="例子" tabindex="-1"><a class="header-anchor" href="#例子"><span>例子</span></a></h2><ul><li><a href="https://github.com/jitpack/android-example" target="_blank" rel="noopener noreferrer">示例</a></li></ul>`,32)])])}const d=i(l,[["render",h]]),k=JSON.parse('{"path":"/blog/79h6phn8/","title":"Jitpack：Android Library 发布最简方案","lang":"zh-CN","frontmatter":{"title":"Jitpack：Android Library 发布最简方案","createTime":"2025/10/03 00:00:00","permalink":"/blog/79h6phn8/","tags":["Jitpack"]},"readingTime":{"minutes":1.85,"words":556},"git":{"createdTime":1764638406000,"updatedTime":1764921863000,"contributors":[{"name":"halifox","username":"halifox","email":"106858061+halifox@users.noreply.github.com","commits":5,"avatar":"https://avatars.githubusercontent.com/halifox?v=4","url":"https://github.com/halifox"}]},"filePathRelative":"blog/Jitpack：Android Library 发布最简方案.md","headers":[],"categoryList":[]}');export{d as comp,k as data};
